pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _init()
		#include .capstone.p8:2
		cartdata("dc_capstone")
		player_init()
		btn_init()
		if dget(12)>0 and dget(12)<2 then
			dset(12,2)
		end
end

function _update()
		player_update()
		btn_update()
		cam_update()
		player_animate()
end

function _draw()
		cls()
		map(0,0)
		btn_draw()
		spr(player.sp,player.x,player.y,1,1,player.flp)
end
-->8
function btn_init()
	butt={
	{x=216,y=104,sp=19,act="tp"},
	{x=72,y=104,sp=19,act="nil"},
	{x=136,y=104,sp=19,act="door"}}
end

function btn_update()
		--bugs
		
		
		--updates the button sprites
		--if the player stands on them
		for b in all(butt) do
				if player.x-8<=b.x
				and b.x<=player.x+4
				and player.y-8<=b.y
				and b.y<=player.y+2 then
						b.sp=20
				end
		end
end

function btn_draw()
		for b in all(butt) do
				spr(b.sp,b.x,b.y)
		end
end
__gfx__
0000000000000000bbbbbbbbbbbbbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000003bbbb333333bbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000003333333333333bbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000dddd0099933399999a33bb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000dddddd0a4493aaa6459a333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000dcddcd04644645444445433000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000dddddd04445444445455443000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000dddd004544446446454463000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000bbbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000bbbbb33300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000bbb3333308eeeee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000dddd0bb33a999088888e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000ddcdcd333a954608888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00dddd000ddddddd33654444022228800288eee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dcddcd0ddddddd0344554545dd666665dd666660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00dddd0000dddd003644546455555dd655555dd60000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000055555555516226150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00dddd00000dd0000000000051622615516226150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dcddcd0000dd0000000000051622615516226150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dddddd0000dd0000000000051622615516226150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dddddd000dddd000000000051622615516226150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00dddd000dddddd00000000051622615516226150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000dd0000dcddcd00000000051622615516226150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000dd00000dddd000000000051622615516226150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000dddd00000dd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000dcddcd000dddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000dddddd000dddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000dddddd00dddddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000ddd00dddddd00dddddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000dcdcd00dddd000dddddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0ddddddd00dddd000dcddcd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
dddddddd000dd00000dddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000010100000000000000000000000000000100000000000000000000000000000000010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
2400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2400000000000000000000000000000000000000000023000000000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2400000000000000000000000000000023000000000024000000000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2400000000000000000023000000000024000000000024000000000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
